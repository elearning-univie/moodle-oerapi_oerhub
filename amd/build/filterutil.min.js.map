{"version":3,"file":"filterutil.min.js","sources":["../src/filterutil.js"],"sourcesContent":["const readFilter = () => {\n    const selectedValues = Array.from(document.querySelectorAll('select.filterdata'))\n        .reduce((values, select) => {\n            const id = select.id;\n            const selectedValue = select.value;\n\n            // Skip adding if the related checkbox is unchecked\n            if ((id === 'yearfrom' || id === 'yearto') && !document.getElementById(`${id}checkbox`).checked) {\n                return values;\n            }\n\n            values[id] = selectedValue;\n            return values;\n        }, {});\n\n    document.getElementById('filterdata').value = JSON.stringify(selectedValues);\n};\n\nconst toggleDropdown = (checkboxId, dropdownId) => {\n    const checkbox = document.getElementById(checkboxId);\n    const dropdown = document.getElementById(dropdownId);\n\n    if (checkbox && dropdown) {\n        dropdown.disabled = !checkbox.checked;\n    }\n};\n\nexport const init = () => {\n    const attachEvent = (selector, event, handler) => {\n        const element = document.getElementById(selector);\n        if (element) {\n            element.addEventListener(event, handler);\n        }\n    };\n\n    attachEvent('submitfilter', 'click', readFilter);\n\n    attachEvent('perpage', 'change', function () {\n        readFilter();\n        this.form.submit();\n    });\n\n    attachEvent('yearfromcheckbox', 'click', () => toggleDropdown('yearfromcheckbox', 'yearfrom'));\n    attachEvent('yeartocheckbox', 'click', () => toggleDropdown('yeartocheckbox', 'yearto'));\n};\n"],"names":["readFilter","selectedValues","Array","from","document","querySelectorAll","reduce","values","select","id","selectedValue","value","getElementById","checked","JSON","stringify","toggleDropdown","checkboxId","dropdownId","checkbox","dropdown","disabled","attachEvent","selector","event","handler","element","addEventListener","form","submit"],"mappings":"qJAAMA,WAAa,WACTC,eAAiBC,MAAMC,KAAKC,SAASC,iBAAiB,sBACvDC,QAAO,CAACC,OAAQC,gBACPC,GAAKD,OAAOC,GACZC,cAAgBF,OAAOG,YAGjB,aAAPF,IAA4B,WAAPA,IAAqBL,SAASQ,yBAAkBH,gBAAcI,SAIxFN,OAAOE,IAAMC,cACNH,QAJIA,SAKZ,IAEPH,SAASQ,eAAe,cAAcD,MAAQG,KAAKC,UAAUd,iBAG3De,eAAiB,CAACC,WAAYC,oBAC1BC,SAAWf,SAASQ,eAAeK,YACnCG,SAAWhB,SAASQ,eAAeM,YAErCC,UAAYC,WACZA,SAASC,UAAYF,SAASN,wBAIlB,WACVS,YAAc,CAACC,SAAUC,MAAOC,iBAC5BC,QAAUtB,SAASQ,eAAeW,UACpCG,SACAA,QAAQC,iBAAiBH,MAAOC,UAIxCH,YAAY,eAAgB,QAAStB,YAErCsB,YAAY,UAAW,UAAU,WAC7BtB,kBACK4B,KAAKC,YAGdP,YAAY,mBAAoB,SAAS,IAAMN,eAAe,mBAAoB,cAClFM,YAAY,iBAAkB,SAAS,IAAMN,eAAe,iBAAkB"}
{{!
  This file is part of Moodle - http://moodle.org/

  Moodle is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  Moodle is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template oerapi_oerhub/resultlist

    Example context (json):
    {
    }
}}
{{> oerapi_oerhub/filteroptions}}

<div class="row py-1">
    <a href="#" onclick="mod_oercollection_setall(true)">
        {{#str}}checkall, mod_oercollection{{/str}}
    </a>
    <a href="#" onclick="mod_oercollection_setall(false)">
        {{#str}}checknone, mod_oercollection{{/str}}
    </a>
</div>

{{#oersearchresultlist}}
    <div class="card mb-3 resource-frame">
        <div class="card-body">
            <div class="row align-items-center flex-nowrap">
                <!-- Checkbox Column -->
                <div class="col-auto">
                    <div class="form-check">
                        <input class="form-check-input mod-oercollection-checkbox" type="checkbox" name="selectbox" onchange="mod_oercollection_cb_selected()" value="{{oerhubid}}">
                        <a id="resourcelink{{oerhubid}}" href="{{link}}" target="_blank"></a>
                        <input type="hidden" id="title{{oerhubid}}" value="{{title}}">
                    </div>
                </div>
                <!-- the checkbox END -->

                <!-- Main Content Column -->
                <div class="col">
                    {{{oerhtml}}}
                </div>

                <!-- the Buttons -->
                <div class="col-auto">
                    <a
                            class="btn btn-secondary mb-1 px-1 w-100"
                            href="{{link}}"
                            target="_blank">
                        <small>{{#str}} openresource, mod_oercollection {{/str}}</small>
                    </a><br>
                    <a
                            id="addtocollection"
                            class="btn btn-primary mt-1 px-1 w-100"
                            href="#"
                            onclick="mod_oercollection_add_to_collection({{oerid}}, '{{{oerhubid}}}', '{{{link}}}', '{{title}}')">
                        <small>{{#str}} addtocollection, mod_oercollection {{/str}}</small>
                    </a>
                </div>
            </div>
        </div>
    </div>
{{/oersearchresultlist}}
<div class="row py-1">
    <div class="d-flex p-0">
        <div class="p-1">
            <label for="editoptionselect">{{#str}}selectdotdot, mod_oercollection{{/str}}</label>
            <select class="custom-select mx-3" id="editoptionselect">
                <option value="1">{{#str}}openselected, mod_oercollection{{/str}}</option>
                <option value="5">{{#str}}addselected, mod_oercollection{{/str}}</option>
            </select>
        </div>
        <div class="p-1 ml-1 flex-grow-1">
            <a class="btn btn-primary" href="#" onclick="mod_oercollection_bulk_action({{oerid}})">
                {{#str}} start, mod_oercollection {{/str}}
            </a>
        </div>
        <div class="p-1 ml-1 flex-grow-1">
           <div class="text-danger d-none" id="nothingselectedwarning" style="padding-bottom: 6px;padding-top: 6px;">
              {{#str}}selectionwarning, mod_oercollection{{/str}}
           </div>
        </div>
    </div>
</div>

<div class="row py-1 mt-4">
    <h4>
        <a class="icons-collapse-expand notextdecoration" data-toggle="collapse" href="#collapseOptionsPerpage"
           aria-expanded="false" aria-controls="collapseOptions">
        <span class="collapsed-icon icon-no-margin mr-1" title="{{#str}} expand, core {{/str}}">
            <span class="dir-rtl-hide">{{#pix}} t/collapsedchevron, core {{/pix}}</span>
            <span class="dir-ltr-hide">{{#pix}} t/collapsedchevron_rtl, core {{/pix}}</span>
            <span class="sr-only">{{#str}} expand, core {{/str}}</span>
        </span>
            <span class="expanded-icon icon-no-margin mr-1" title="{{#str}} collapse, core {{/str}}">
                {{#pix}} t/expandedchevron, core {{/pix}}
                <span class="sr-only">{{#str}} collapse, core {{/str}}</span>
            </span>
            {{# str }} options, mod_oercollection {{/ str }}
        </a>
    </h4>
</div>
<div class="row py-1 collapse" id="collapseOptionsPerpage">
    <div class="col-auto">
        <label for="perpage">{{#str}} resourcesperpage, mod_oercollection {{/str}}</label>
    </div>
    <div class="col-2">
        <select class="custom-select" id="perpage" name="perpage">
            <option value="5" title="5" {{#selected5}}selected{{/selected5}}>5</option>
            <option value="10" title="10" {{#selected10}}selected{{/selected10}}>10</option>
            <option value="20" title="20" {{#selected20}}selected{{/selected20}}>20</option>
            <option value="50" title="50" {{#selected50}}selected{{/selected50}}>50</option>
            <option value="100" title="100" {{#selected100}}selected{{/selected100}}>100</option>
            <option value="5000" title="5000" {{#selected5000}}selected{{/selected5000}}>{{# str }}
                dropdownall, mod_oercollection {{/ str }}</option>
        </select>
    </div>
</div>
